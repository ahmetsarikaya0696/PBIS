@model IzinlerimVM
@using System.Security.Claims
@inject IHttpContextAccessor HttpContextAccessor

@{
    ViewData["Root"] = "İzinlerim";
    ViewData["Title"] = "İzin Alma İşlemlerim";

    var httpContext = HttpContextAccessor.HttpContext;
    string telefon = httpContext.User.Claims.First(x => x.Type == "Telefon").Value;

    string baskentMail = httpContext.User.Claims.First(x => x.Type == "KullaniciAdi").Value;
}
<div class="card mb-10">

    <div class="card-flush p-8 d-flex align-items-baseline justify-content-center">
        <div class="w-50 me-3">
            <select id="izinTurleri" name="izinTurleri" asp-items="@ViewBag.IzinTurleri" class="form-select" data-control="select2"></select>
        </div>
        <div class="">
            <button id="modal-button" type="button" class="btn btn-primary fw-bold" data-bs-toggle="modal" data-bs-target="#izin-modal-1">Formu Aç</button>
        </div>
    </div>

</div>

<div class="card">

    <div class="card-header align-items-center py-5 gap-2 gap-md-5">
        <div class="card-title">
            <!--begin::Search-->
            <div class="d-flex align-items-center position-relative my-1">
                <span class="svg-icon svg-icon-1 position-absolute ms-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="black" />
                        <path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="black" />
                    </svg>
                </span>
                <input type="text" data-kt-filter="search" class="form-control form-control-solid w-250px ps-14" placeholder="Ara" />
            </div>
            <!--end::Search-->
        </div>
        <div class="card-toolbar flex-row-fluid justify-content-end gap-5">
            <!--begin::Export dropdown-->
            <button type="button" class="btn btn-light-primary fw-bold" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">
                <i class="ki-duotone ki-exit-down fs-2"><span class="path1"></span><span class="path2"></span></i>
                Rapor Al
            </button>
            <!--begin::Menu-->
            <div id="izinlerim_table_export_menu" class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-200px py-4" data-kt-menu="true">
                <!--begin::Menu item-->
                <div class="menu-item px-3">
                    <a href="#" class="menu-link px-3" data-kt-export="copy">
                        Kopyala
                    </a>
                </div>
                <!--end::Menu item-->
                <!--begin::Menu item-->
                <div class="menu-item px-3">
                    <a href="#" class="menu-link px-3" data-kt-export="excel">
                        Excel Dökümü
                    </a>
                </div>
                <!--end::Menu item-->
                <!--begin::Menu item-->
                <div class="menu-item px-3">
                    <a href="#" class="menu-link px-3" data-kt-export="csv">
                        CSV Dökümü
                    </a>
                </div>
                <!--end::Menu item-->
                <!--begin::Menu item-->
                <div class="menu-item px-3">
                    <a href="#" class="menu-link px-3" data-kt-export="pdf">
                        PDF Dökümü
                    </a>
                </div>
                <!--end::Menu item-->
            </div>
            <!--end::Menu-->
            <!--end::Export dropdown-->
            <!--begin::Hide default export buttons-->
            <div id="izinlerim_table_buttons" class="d-none"></div>
            <!--end::Hide default export buttons->
                            </div>
                        </div>
            <!--end::Export buttons-->
        </div>
    </div>

    <div class="table-responsive  p-10">
        <table class="table table-row-bordered table-row-dashed dataTable no-footer" id="izinlerim_table">
            <thead>
                <tr class="text-left text-gray-400 fw-bolder fs-7 text-uppercase gs-0">
                    <th>Id</th>
                    <th class="text-right">İstek Tarihi</th>
                    <th>Başlangış Tarihi</th>
                    <th>Bitiş Tarihi</th>
                    <th>İşe BaşlamaTarihi</th>
                    <th>Adım</th>
                    <th>İzin Durumu</th>
                    <th>İzin Türü</th>
                    <th>Doğrulama Yöntemi</th>
                    <th>İşlemler</th>
                    <th>Form Tipi</th>
                </tr>
            </thead>
        </table>
    </div>
</div>

@section modals {
    <!--begin::Form Tipi İzin Oluşturma Formu Modal-->
    <div class="modal fade modal-xl" tabindex="-1" id="izin-modal-1" data-bs-focus="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">İzin Başvuru Formu</h3>

                    <!--begin::Close-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
                        <i class="ki-duotone ki-cross fs-1"><span class="path1"></span><span class="path2"></span></i>
                    </div>
                    <!--end::Close-->
                </div>

                <div class="modal-body">
                    <!--begin::Stepper-->
                    <div class="stepper stepper-pills stepper-column d-flex flex-column flex-lg-row" id="kt_stepper_example_vertical">
                        <!--begin::Aside-->
                        <div class="flex-center flex-wrap mb-6" style="height: 100%;">
                            <!--begin::Step 1-->
                            <div class="stepper-item mx-8 my-2 current" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">1</span>
                                    </div>
                                    <!--end::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 1
                                        </h3>

                                        <div class="stepper-desc">
                                            Tarih Aralığı
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 1-->
                            <!--begin::Step 2-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">2</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 2
                                        </h3>

                                        <div class="stepper-desc">
                                            İletişim ve <br />
                                            Diğer Bilgiler
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 2-->
                            <!--begin::Step 3-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">3</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 3
                                        </h3>

                                        <div class="stepper-desc">
                                            Ön izleme
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 3-->
                            <!--begin::Step 4-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">4</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 4
                                        </h3>

                                        <div class="stepper-desc">
                                            Doğrulama Yöntemi
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 4-->
                            <!--begin::Step 5-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">5</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 5
                                        </h3>

                                        <div class="stepper-desc">
                                            Doğrulama Kodu Girişi
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                            </div>
                            <!--end::Step 5-->
                        </div>

                        <!--begin::Content-->
                        <div class="flex-row-fluid py-lg-5 px-lg-15">
                            <!--begin::Form-->
                            <form method="post" asp-controller="Islemler" asp-action="IzinTalebiOlustur" id="form-tip-izin-form" class="form mx-auto" novalidate="novalidate">
                                <!--begin::Group-->
                                <div class="mb-5">
                                    <!--begin::Step 1-->
                                    <div class="current" data-kt-stepper-element="content">
                                        <div class="w-100">
                                            <div class="d-sm-flex gap-4 mb-10">
                                                <!--begin::Input group-->
                                                <div class="fv-row w-100">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinCreateVM.BaslangicTarihi" class="form-label">Başlangıç Tarihi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input type="date" asp-for="FormTipIzinCreateVM.BaslangicTarihi" class="form-control form-control-solid" placeholder="Tarih seçiniz" />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                                <!--begin::Input group-->
                                                <div class="fv-row w-100">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinCreateVM.BitisTarihi" class="form-label">Bitiş Tarihi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input type="date" asp-for="FormTipIzinCreateVM.BitisTarihi" class="form-control form-control-solid" placeholder="Tarih seçiniz" />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                            </div>

                                            <!--begin::Input group-->
                                            <div class="mb-10">
                                                <!--begin::Switch-->
                                                <label for="mahsubenCreate" class="form-check form-switch form-check-custom form-check-solid">
                                                    <input id="mahsubenCreate" name="mahsubenCreate" class="form-check-input" type="checkbox" />
                                                    <span class="form-check-label fw-bold text-dark">
                                                        Mahsuben İzin Kullanmak İstiyorum
                                                    </span>
                                                </label>
                                                <!--end::Switch-->
                                            </div>
                                            <!--end::Input group-->

                                            <div class="d-sm-flex gap-4 mb-10">
                                                <!--begin::Input group-->
                                                <div class="fv-row w-100">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinCreateVM.MahsubenBaslangicTarihi" class="form-label">Mahsuben Başlangıç Tarihi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input type="date" asp-for="FormTipIzinCreateVM.MahsubenBaslangicTarihi" class="form-control form-control-solid" disabled />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->

                                                <div class="w-100">
                                                    <!--begin::Label-->
                                                    <label for="mahsubenBitis" class="form-label">Mahsuben Bitiş Tarihi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input type="date" id="mahsubenBitis" name="mahsubenBitis" class="form-control form-control-solid" disabled />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                            </div>

                                            <!--begin::DISPLAY-NONE-->
                                            <div class="d-none">
                                                <input asp-for="FormTipIzinCreateVM.IzinTurId" />
                                                <input type="number" asp-for="FormTipIzinCreateVM.GunSayisi" />
                                                <input type="number" asp-for="FormTipIzinCreateVM.MahsubenGunSayisi" />
                                                <input type="date" asp-for="FormTipIzinCreateVM.IseBaslamaTarihi" />
                                            </div>
                                            <!--end::DISPLAY-NONE-->
                                        </div>
                                    </div>
                                    <!--end::Step 1-->
                                    <!--begin::Step 2-->
                                    <div data-kt-stepper-element="content">
                                        <div class="w-100">
                                            <!--begin::Input group-->
                                            <div class="fv-row mb-10">
                                                <!--begin::Label-->
                                                <label asp-for="FormTipIzinCreateVM.Adres" class="form-label">Adres</label>
                                                <!--end::Label-->
                                                <!--begin::Input-->
                                                <textarea asp-for="FormTipIzinCreateVM.Adres" class="form-control form-control form-control-solid" rows="4"></textarea>
                                                <!--end::Input-->
                                            </div>
                                            <!--end::Input group-->

                                            <div class="d-sm-flex gap-4 mb-10">
                                                <!--begin::Input group-->
                                                <div class="fv-row w-sm-50">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinCreateVM.Telefon" class="form-label">Cep Telefonu</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input asp-for="FormTipIzinCreateVM.Telefon" class="form-control form-control-solid" inputmode="text">
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                                <!--begin::Input group-->
                                                <div class="fv-row w-100">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinCreateVM.YerineBakacakKisi" class="form-label">Görevini Yapacak Kişi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input asp-for="FormTipIzinCreateVM.YerineBakacakKisi" class="form-control form-control form-control-solid" />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                            </div>

                                            <!--begin::Input group-->
                                            <div class="fv-row mb-10">
                                                <!--begin::Switch-->
                                                <label asp-for="FormTipIzinCreateVM.YillikIzinUcretiIstegi" class="form-check form-switch form-check-custom form-check-solid">
                                                    <input asp-for="FormTipIzinCreateVM.YillikIzinUcretiIstegi" class="form-check-input" type="checkbox" />
                                                    <span class="form-check-label fw-bold text-dark">
                                                        4857 Sayılı İş Kanununun 57. Maddesi gereğince Yıllık İzin Dönemine İlişkin Ücretimi Peşin Almak İstiyorum
                                                    </span>
                                                </label>
                                                <!--end::Switch-->
                                            </div>
                                            <!--end::Input group-->
                                        </div>
                                    </div>
                                    <!--end::Step 2-->
                                    <!--begin::Step 3-->
                                    <div data-kt-stepper-element="content">
                                        <div class="w-100 lh-sm">
                                            <div class="card shadow-sm mb-6 px-6 py-3">
                                                <div class="card-header">
                                                    <h3 class="card-title">İzin Bilgileri</h3>
                                                </div>

                                                <div class="card-body">
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered">
                                                            <tbody>
                                                                <tr>
                                                                    <td class="fw-bolder">Gün Sayısı</td>
                                                                    <td id="gunSayisiSpan"></td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Başlangıç - Bitiş Tarihi</td>
                                                                    <td class="d-flex">
                                                                        <div id="baslangicTarihiSpan"></div><span class="mx-1">-</span><div id="bitisTarihiSpan"></div>
                                                                    </td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Mahsuben Gün Sayısı</td>
                                                                    <td id="mahsubenGunSayisiSpan">???</td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Mahsuben Başlangıç - Bitiş Tarihi</td>
                                                                    <td class="d-flex">
                                                                        <div id="mahsubenBaslangicTarihiSpan">???</div><span class="mx-1">-</span><div id="mahsubenBitisTarihiSpan">???</div>
                                                                    </td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">İşe Başlama Tarihi</td>
                                                                    <td id="iseBaslamaTarihiSpan"></td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Telefon</td>
                                                                    <td id="cepTelSpan"></td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Görevini Yapacak Kişi</td>
                                                                    <td id="yerineBakacakKisiSpan"></td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Yıllık İzin Ücret İsteği</td>
                                                                    <td id="yillikIzinUcretiIstegiSpan"></td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Step 3-->
                                    <!--begin::Step 4-->
                                    <div data-kt-stepper-element="content">
                                        <div class="w-100">
                                            <div class="mh-475px scroll-y me-n7 pe-7 ps-2">
                                                <label>
                                                    <div class="fw-bolder fs-3 mb-6">Bir doğrulama yöntemi seçiniz</div>
                                                    <!--begin::Option-->
                                                    <input asp-for="FormTipIzinCreateVM.DogrulamaYontemi" id="form-tip-create-sms" type="radio" class="btn-check" value="SMS" checked="checked" />
                                                    <label asp-for="FormTipIzinCreateVM.DogrulamaYontemi" for="form-tip-create-sms" class="btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center">
                                                        <i class="ki-duotone ki-message-text-2 fs-4x me-4"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i>

                                                        <span class="d-block fw-semibold text-start">
                                                            <span class="text-gray-900 fw-bold d-block fs-3">SMS</span>
                                                            <span class="text-muted fw-semibold fs-6">İzin doğrulama kodunuz sistemde tanımlı olan <span class="fw-bolder">"@telefon"</span> numaralı telefonunuza gönderilecektir.</span>
                                                        </span>
                                                    </label>
                                                    <!--end::Option-->
                                                    <!--begin::Option-->
                                                    <input asp-for="FormTipIzinCreateVM.DogrulamaYontemi" id="form-tip-create-e-posta" type="radio" class="btn-check" value="E-POSTA" />
                                                    <label asp-for="FormTipIzinCreateVM.DogrulamaYontemi" for="form-tip-create-e-posta" class="btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center my-5">
                                                        <i class="ki-duotone ki-setting-2 fs-4x me-4"><span class="path1"></span><span class="path2"></span></i>

                                                        <span class="d-block fw-semibold text-start">
                                                            <span class="text-gray-900 fw-bold d-block fs-3">E-posta</span>
                                                            <span class="text-muted fw-semibold fs-6">
                                                                izin doğrulama kodunuz sistemde tanımlı olan <span class="fw-bolder">"@baskentMail"</span> e-posta adresinize gönderilecektir.
                                                            </span>
                                                        </span>
                                                    </label>
                                                    <!--end::Option-->
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Step 4-->
                                    <!--begin::Step 5-->
                                    <div data-kt-stepper-element="content">
                                        <div class="d-flex flex-center flex-column flex-lg-row-fluid">
                                            <!--begin::Alert-->
                                            <div id="formTipCountdownAlert" class="alert bg-light-danger d-flex flex-column flex-sm-row p-5 mb-6 d-none">
                                                <!--begin::Icon-->
                                                <img class="me-4 mb-5 mb-sm-0" width="75px" src="~/assets/media/svg/misc/hourglass.svg" />
                                                <!--end::Icon-->
                                                <!--begin::Wrapper-->
                                                <div class="d-flex flex-column pe-0 pe-sm-10">
                                                    <!--begin::Title-->
                                                    <h4 class="fs-1 fw-semibold text-danger">Süre doldu!</h4>
                                                    <!--end::Title-->
                                                    <!--begin::Content-->
                                                    <span class="fs-4 text-dark">İşleminize devam etmek için aşağıdaki <button type="button" class="btn btn-link link-primary fs-5 me-1">Tekrar Gönder</button> linkine tıklayınız</span>
                                                    <!--end::Content-->
                                                </div>
                                                <!--end::Wrapper-->
                                            </div>
                                            <!--end::Alert-->

                                            <div class="w-100">
                                                <div class="text-center mb-6">
                                                    <span id="formTipExpiration" class="d-none"></span>
                                                    <p id="formTipCountdown" class="fw-bolder fs-4x">
                                                        <span class="spinner-border text-primary" role="status"></span>
                                                    </p>
                                                </div>
                                                <div class="d-flex justify-content-center gap-4 mb-6">
                                                    <div>
                                                        <img id="dogrulamaImgFormTip" alt="" class="mh-100px" src="">
                                                    </div>
                                                    <div>
                                                        <h1 id="formTipYontem" class="text-gray-900 mb-3"></h1>
                                                        <div id="formTipIletisimBilgisi" class="fw-bold text-gray-900 fs-3"></div>
                                                        <div id="formTipDogrulamaMesaj" class="text-muted fw-semibold fs-5 mb-5"></div>
                                                    </div>
                                                </div>

                                                <div class="mb-6">
                                                    <div class="fw-bold text-center text-gray-900 fs-6 mb-1 ms-1">6 haneli güvenlik kodunu giriniz</div>
                                                    <div class="d-flex flex-wrap flex-stack justify-content-center gap-4">
                                                        <input type="text" id="form-tip-code-1" name="form-tip-code-1" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-code-2" name="form-tip-code-2" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-code-3" name="form-tip-code-3" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-code-4" name="form-tip-code-4" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-code-5" name="form-tip-code-5" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-code-6" name="form-tip-code-6" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-auth-code" value="" inputmode="text">
                                                    </div>
                                                </div>
                                                <input asp-for="FormTipIzinCreateVM.Kod" type="hidden" />
                                            </div>
                                            <div class="text-center fw-semibold fs-5">
                                                <span class="text-muted me-1">Kod size ulaşmadı mı?</span>

                                                <button type="button" onClick="tekrarGonderFormTipCreate()" class="btn btn-link link-primary fs-5 me-1">Tekrar Gönder</button>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Step 5-->
                                </div>
                                <!--end::Group-->
                                <!--begin::Actions-->
                                <div class="d-flex flex-stack">
                                    <!--begin::Wrapper-->
                                    <div class="me-2">
                                        <button type="button" class="btn btn-light btn-active-light-primary" data-kt-stepper-action="previous">
                                            <span>&laquo;</span>
                                            <span>Geri</span>
                                        </button>
                                    </div>
                                    <!--end::Wrapper-->
                                    <!--begin::Wrapper-->
                                    <div>
                                        <button id="form-tip-btn" type="button" class="btn btn-primary" data-kt-stepper-action="submit">
                                            <span class="indicator-label">
                                                İznimi Onayla
                                            </span>
                                            <span class="indicator-progress">
                                                Lütfen bekleyin... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                            </span>
                                        </button>

                                        <button type="button" class="btn btn-primary" data-kt-stepper-action="next">
                                            <span>İleri</span>
                                            <span>&raquo;</span>
                                        </button>
                                    </div>
                                    <!--end::Wrapper-->
                                </div>
                                <!--end::Actions-->
                            </form>
                            <!--end::Form-->
                        </div>
                    </div>
                    <!--end::Stepper-->
                </div>
            </div>
        </div>
    </div>
    <!--end::Form Tipi İzin Oluşturma Formu Modal-->
    <!--begin::Text Tip İzin Oluşturma Modal-->
    <div class="modal fade modal-xl" tabindex="-1" id="izin-modal-2" data-bs-focus="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">İzin Başvuru Formu</h3>
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
                        <i class="ki-duotone ki-cross fs-1"><span class="path1"></span><span class="path2"></span></i>
                    </div>
                </div>

                <div class="modal-body">
                    <div class="stepper stepper-pills stepper-column d-flex flex-column flex-xl-row flex-row-fluid" id="kt_stepper_example_vertical-2">

                        <div class="flex-center flex-wrap mb-6" style="height: 100%;">
                            <div class="stepper-item mx-8 my-2 current" data-kt-stepper-element="nav">
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">1</span>
                                    </div>
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 1
                                        </h3>
                                        <div class="stepper-desc">
                                            Tarih Aralığı<br />
                                            ve Açıklama
                                        </div>
                                    </div>
                                </div>
                                <div class="stepper-line h-30px"></div>
                            </div>

                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">2</span>
                                    </div>
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 2
                                        </h3>
                                        <div class="stepper-desc">
                                            Ön İzleme
                                        </div>
                                    </div>
                                </div>
                                <div class="stepper-line h-30px"></div>
                            </div>

                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">3</span>
                                    </div>
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 3
                                        </h3>
                                        <div class="stepper-desc">
                                            Doğrulama Yöntemi
                                        </div>
                                    </div>
                                </div>
                                <div class="stepper-line h-30px"></div>
                            </div>

                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">4</span>
                                    </div>
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 4
                                        </h3>
                                        <div class="stepper-desc">
                                            Doğrulama Kodu Girişi
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="stepper-line" style="top: -40px !important;"></div>
                        </div>

                        <div class="flex-row-fluid py-lg-5 px-lg-15">
                            <form asp-controller="Islemler" asp-action="IzinTalebiOlustur" id="text-tip-izin-form" class="form mx-auto" novalidate="novalidate">
                                <div class="current" data-kt-stepper-element="content">
                                    <div class="w-100">
                                        <div class="d-sm-flex gap-4">
                                            <div class="fv-row w-100">
                                                <label asp-for="TextTipIzinCreateVM.BaslangicTarihi" class="form-label required">Başlangıç Tarihi</label>
                                                <input type="date" asp-for="TextTipIzinCreateVM.BaslangicTarihi" class="form-control form-control-solid" placeholder="Tarih seçiniz" />
                                            </div>
                                            <div class="fv-row w-100">
                                                <label asp-for="TextTipIzinCreateVM.BitisTarihi" class="form-label required">Bitiş Tarihi</label>
                                                <input type="date" asp-for="TextTipIzinCreateVM.BitisTarihi" class="form-control form-control-solid" placeholder="Tarih seçiniz" />
                                            </div>
                                        </div>

                                        <div class="mh-475px scroll-y me-n7 pe-7 ps-2">
                                            <div class="fv-row mt-10">
                                                <label asp-for="TextTipIzinCreateVM.Aciklama" class="form-label required">Açıklama</label>
                                                <textarea asp-for="TextTipIzinCreateVM.Aciklama" class="form-control form-control form-control-solid" rows="5"></textarea>
                                            </div>
                                        </div>

                                        <div class="d-none">
                                            <input type="number" asp-for="TextTipIzinCreateVM.GunSayisi" min="1" />
                                            <input asp-for="TextTipIzinCreateVM.IzinTurId" />
                                            <input type="date" asp-for="TextTipIzinCreateVM.IseBaslamaTarihi" />
                                        </div>
                                    </div>
                                </div>

                                <div data-kt-stepper-element="content">
                                    <div class="w-100 lh-sm">
                                        <div class="card shadow-sm mb-6 px-6 py-3">
                                            <div class="card-header">
                                                <h3 class="card-title">İzin Bilgileri</h3>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table table-bordered">
                                                        <tbody>
                                                            <tr>
                                                                <td class="fw-bolder">Gün Sayısı</td>
                                                                <td id="gunSayisiTextSpan"></td>
                                                            </tr>

                                                            <tr>
                                                                <td class="fw-bolder">Başlangıç - Bitiş Tarihi</td>
                                                                <td>
                                                                    <span id="baslangicTarihiTextSpan"></span> - <span id="bitisTarihiTextSpan"></span>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td class="fw-bolder">İşe Başlama Tarihi</td>
                                                                <td id="iseBaslamaTarihiTextSpan"></td>
                                                            </tr>

                                                            <tr>
                                                                <td class="fw-bolder">Açıklama</td>
                                                                <td id="aciklama"></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div data-kt-stepper-element="content">
                                    <div class="w-100">
                                        <div class="mh-475px scroll-y me-n7 pe-7 ps-2">
                                            <label>
                                                <div class="fw-bolder fs-3 mb-6">Bir doğrulama yöntemi seçiniz</div>
                                                <!--begin::Option-->
                                                <input asp-for="TextTipIzinCreateVM.DogrulamaYontemi" id="text-tip-create-sms" type="radio" class="btn-check" value="SMS" checked="checked" />
                                                <label asp-for="TextTipIzinCreateVM.DogrulamaYontemi" for="text-tip-create-sms" class="btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center">
                                                    <i class="ki-duotone ki-message-text-2 fs-4x me-4"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i>

                                                    <span class="d-block fw-semibold text-start">
                                                        <span class="text-gray-900 fw-bold d-block fs-3">SMS</span>
                                                        <span class="text-muted fw-semibold fs-6">İzin doğrulama kodunuz sistemde tanımlı olan <span class="fw-bolder">"@telefon"</span> numaralı telefonunuza gönderilecektir.</span>
                                                    </span>
                                                </label>
                                                <!--end::Option-->
                                                <!--begin::Option-->
                                                <input asp-for="TextTipIzinCreateVM.DogrulamaYontemi" id="text-tip-create-e-posta" type="radio" class="btn-check" value="E-POSTA" />
                                                <label asp-for="TextTipIzinCreateVM.DogrulamaYontemi" for="text-tip-create-e-posta" class="btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center my-5">
                                                    <i class="ki-duotone ki-setting-2 fs-4x me-4"><span class="path1"></span><span class="path2"></span></i>

                                                    <span class="d-block fw-semibold text-start">
                                                        <span class="text-gray-900 fw-bold d-block fs-3">E-posta</span>
                                                        <span class="text-muted fw-semibold fs-6">
                                                            izin doğrulama kodunuz sistemde tanımlı olan <span class="fw-bolder">"@baskentMail"</span> e-posta adresinize gönderilecektir.
                                                        </span>
                                                    </span>
                                                </label>
                                                <!--end::Option-->
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div data-kt-stepper-element="content">
                                    <div class="d-flex flex-center flex-column flex-lg-row-fluid">
                                        <!--begin::Alert-->
                                        <div id="textTipCountdownAlert" class="alert bg-light-danger d-flex flex-column flex-sm-row p-5 mb-6 d-none">
                                            <!--begin::Icon-->
                                            <img class="me-4 mb-5 mb-sm-0" width="75px" src="~/assets/media/svg/misc/hourglass.svg" />
                                            <!--end::Icon-->
                                            <!--begin::Wrapper-->
                                            <div class="d-flex flex-column pe-0 pe-sm-10">
                                                <!--begin::Title-->
                                                <h4 class="fs-1 fw-semibold text-danger">Süre doldu!</h4>
                                                <!--end::Title-->
                                                <!--begin::Content-->
                                                <span class="fs-4 text-dark">İşleminize devam etmek için aşağıdaki <button type="button" class="btn btn-link link-primary fs-5 me-1">Tekrar Gönder</button> linkine tıklayınız</span>
                                                <!--end::Content-->
                                            </div>
                                            <!--end::Wrapper-->
                                        </div>
                                        <!--end::Alert-->

                                        <div class="w-100">
                                            <div class="text-center mb-6">
                                                <span id="textTipExpiration" class="d-none"></span>
                                                <p id="textTipCountdown" class="fw-bolder fs-4x">
                                                    <span class="spinner-border text-primary" role="status"></span>
                                                </p>
                                            </div>
                                            <div class="d-flex justify-content-center gap-4 mb-6">
                                                <div>
                                                    <img id="dogrulamaImg" alt="" class="mh-100px" src="">
                                                </div>
                                                <div>
                                                    <h1 id="textTipYontem" class="text-gray-900 mb-3"></h1>
                                                    <div id="textTipIletisimBilgisi" class="fw-bold text-gray-900 fs-3"></div>
                                                    <div id="textTipDogrulamaMesaj" class="text-muted fw-semibold fs-5 mb-5"></div>
                                                </div>
                                            </div>

                                            <div class="mb-6">
                                                <div class="fw-bold text-center text-gray-900 fs-6 mb-1 ms-1">6 haneli güvenlik kodunu giriniz</div>
                                                <div class="d-flex flex-wrap flex-stack justify-content-center gap-4">
                                                    <input type="text" id="text-tip-code-1" name="text-tip-code-1" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-code-2" name="text-tip-code-2" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-code-3" name="text-tip-code-3" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-code-4" name="text-tip-code-4" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-code-5" name="text-tip-code-5" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-code-6" name="text-tip-code-6" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-auth-code" value="" inputmode="text">
                                                </div>
                                            </div>
                                            <input asp-for="TextTipIzinCreateVM.Kod" type="hidden" />
                                        </div>
                                        <div class="text-center fw-semibold fs-5">
                                            <span class="text-muted me-1">Kod size ulaşmadı mı?</span>

                                            <button type="button" onClick="tekrarGonderTextTipCreate()" class="btn btn-link link-primary fs-5 me-1">Tekrar Gönder</button>
                                        </div>
                                    </div>
                                </div>
                            </form>

                            <div class="d-flex flex-stack pt-10">
                                <div class="me-2">
                                    <button id="text-tip-back" type="button" class="btn btn-lg btn-light-primary me-3" data-kt-stepper-action="previous">
                                        <span>&laquo;</span>
                                        <span>Geri</span>
                                    </button>
                                </div>
                                <div>
                                    <button type="button" id="text-tip-btn" class="btn btn-lg btn-primary fw-bold" data-kt-stepper-action="submit">
                                        <span class="indicator-label">
                                            İznimi Onayla
                                        </span>
                                        <span class="indicator-progress">
                                            Lütfen bekleyin... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                        </span>
                                    </button>

                                    <button type="button" class="btn btn-lg btn-primary" data-kt-stepper-action="next">
                                        <span>İleri</span>
                                        <span>&raquo;</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Stepper-->
                </div>
            </div>
        </div>
    </div>
    <!--end::Text Tip İzin Oluşturma Modal-->
    <!--begin::İzin Detay Modal-->
    <div class="modal fade modal-xl" tabindex="-1" id="izin-detay">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">İzin Detayı</h3>
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
                        <i class="ki-duotone ki-cross fs-1"><span class="path1"></span><span class="path2"></span></i>
                    </div>
                </div>

                <div class="modal-body">
                    <ul class="nav nav-tabs nav-line-tabs nav-line-tabs-2x mb-5 fs-6">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#izin-formu">İzin Formu</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#izin-hareketleri">İzin Hareketleri</a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="izin-formu" role="tabpanel">
                            <div class="card card-flush bg-light mb-6 py-6">
                                <div class="pt-0 fs-6" style="padding: 0.1rem !important;">
                                    <div id="download-pdf-wrapper" class="px-10 m-auto mb-3">
                                        <div class="d-flex justify-content-end">
                                            <button onClick="downloadPDF('print-izin-form')" type="button" class="btn btn-primary fs-5 mx-1">
                                                <i class="ki-duotone ki-file-down fs-5"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span></i>
                                                <span>PDF Dökümü Al</span>
                                            </button>
                                        </div>
                                    </div>

                                    <div id="print-izin-form" class="px-6">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="izin-hareketleri" role="tabpanel">
                            <div id="izin-hareketleri-not-found" class="alert alert-success d-flex align-items-center p-5">
                                <i class="fa-solid fa-circle-info fs-2hx text-success me-4"><span class="path1"></span><span class="path2"></span></i>
                                <div class="d-flex flex-column">
                                    <h4 class="mb-1 text-success">Bilgilendirme</h4>
                                    <span>Herhangi bir izin hareketi verisi bulunamadı!</span>
                                </div>
                            </div>
                            <div id="izin-hareketleri-table-wrapper"></div>
                            <div id="ret-detay" class="card card-flush bg-light mb-6 p-6">
                                <div class="mb-2">
                                    <span class="fw-bolder">Ret Sebebi</span>
                                    <span id="ret-sebep" class="text-gray-600">selam</span>
                                </div>
                                <div>
                                    <span class="fw-bolder">Ret Açıklaması</span>
                                    <span id="ret-aciklama" class="text-gray-600"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--end::İzin Detay Modal-->
    <!--begin::Form Tipi İzin Güncelleme Formu Modal-->
    <div class="modal fade modal-xl" tabindex="-1" id="izin-update-modal-1" data-bs-focus="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">İzin Güncelleme Formu</h3>

                    <!--begin::Close-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
                        <i class="ki-duotone ki-cross fs-1"><span class="path1"></span><span class="path2"></span></i>
                    </div>
                    <!--end::Close-->
                </div>

                <div class="modal-body">
                    <!--begin::Stepper-->
                    <div class="stepper stepper-pills stepper-column d-flex flex-column flex-xl-row flex-row-fluid" id="kt_stepper_example_vertical-update">
                        <div class="flex-center flex-wrap mb-6" style="height: 100%;">
                            <!--begin::Step 1-->
                            <div class="stepper-item mx-8 my-2 current" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">1</span>
                                    </div>
                                    <!--end::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 1
                                        </h3>

                                        <div class="stepper-desc">
                                            Tarih Aralığı
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 1-->
                            <!--begin::Step 2-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">2</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 2
                                        </h3>

                                        <div class="stepper-desc">
                                            İletişim ve<br />
                                            Diğer Bilgiler
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 2-->
                            <!--begin::Step 3-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">3</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 3
                                        </h3>

                                        <div class="stepper-desc">
                                            Ön izleme
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 3-->
                            <!--begin::Step 4-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">4</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 4
                                        </h3>

                                        <div class="stepper-desc">
                                            Doğrulama Yöntemi
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 4-->
                            <!--begin::Step 5-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">5</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 5
                                        </h3>

                                        <div class="stepper-desc">
                                            Doğrulama Kodu Girişi
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                            </div>
                            <!--end::Step 5-->

                        </div>
                        <!--end::Nav-->
                        <!--begin::Content-->
                        <div class="flex-row-fluid py-lg-5 px-lg-15">
                            <!--begin::Form-->
                            <form method="post" asp-controller="Islemler" asp-action="IzniDuzenle" id="form-tip-izin-update-form" class="form mx-auto" novalidate="novalidate">
                                <!--begin::Group-->
                                <div class="mb-5">
                                    <!--begin::Step 1-->
                                    <div class="current" data-kt-stepper-element="content">
                                        <div class="w-100">
                                            <div class="d-sm-flex gap-4 mb-10">
                                                <!--begin::Input group-->
                                                <div class="fv-row w-100">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinUpdateVM.BaslangicTarihi" class="form-label">Başlangıç Tarihi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input type="date" asp-for="FormTipIzinUpdateVM.BaslangicTarihi" class="form-control form-control-solid" />
                                                    <!--end::Input-->
                                                    <!--end::Input group-->
                                                </div>
                                                <!--begin::Input group-->
                                                <div class="fv-row w-100">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinUpdateVM.BitisTarihi" class="form-label">Bitiş Tarihi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input type="date" asp-for="FormTipIzinUpdateVM.BitisTarihi" class="form-control form-control-solid" />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                            </div>

                                            <!--begin::Input group-->
                                            <div class="mb-10">
                                                <!--begin::Switch-->
                                                <label for="mahsubenUpdate" class="form-check form-switch form-check-custom form-check-solid">
                                                    <input id="mahsubenUpdate" name="mahsubenUpdate" class="form-check-input" type="checkbox" />
                                                    <span class="form-check-label fw-bold text-dark">
                                                        Mahsuben İzin Kullanmak İstiyorum
                                                    </span>
                                                </label>
                                                <!--end::Switch-->
                                            </div>
                                            <!--end::Input group-->

                                            <div class="d-sm-flex gap-4 mb-10">
                                                <!--begin::Input group-->
                                                <div class="fv-row w-100">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinUpdateVM.MahsubenBaslangicTarihi" class="form-label">Mahsuben Başlangıç Tarihi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input type="date" asp-for="FormTipIzinUpdateVM.MahsubenBaslangicTarihi" class="form-control form-control-solid" disabled />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->

                                                <div class="w-100">
                                                    <!--begin::Label-->
                                                    <label for="mahsubenBitisUpdate" class="form-label">Mahsuben Bitiş Tarihi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input type="date" id="mahsubenBitisUpdate" name="mahsubenBitisUpdate" class="form-control form-control-solid" disabled />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                            </div>

                                            <!--begin::Display-None-->
                                            <div class="d-none">
                                                <input asp-for="FormTipIzinUpdateVM.IzinTurId" />
                                                <input type="number" asp-for="FormTipIzinUpdateVM.GunSayisi" />
                                                <input type="number" asp-for="FormTipIzinUpdateVM.MahsubenGunSayisi" />
                                                <input type="date" asp-for="FormTipIzinUpdateVM.IseBaslamaTarihi" />
                                                <input asp-for="FormTipIzinUpdateVM.Id" />
                                            </div>
                                            <!--end::Display-None-->
                                        </div>
                                    </div>
                                    <!--begin::Step 1-->
                                    <!--begin::Step 2-->
                                    <div data-kt-stepper-element="content">
                                        <div class="w-100">
                                            <!--begin::Input group-->
                                            <div class="fv-row mb-10">
                                                <!--begin::Label-->
                                                <label asp-for="FormTipIzinUpdateVM.Adres" class="form-label">Adres</label>
                                                <!--end::Label-->
                                                <!--begin::Input-->
                                                <textarea asp-for="FormTipIzinUpdateVM.Adres" class="form-control form-control form-control-solid" rows="4"></textarea>
                                                <!--end::Input-->
                                            </div>
                                            <!--end::Input group-->

                                            <div class="d-sm-flex gap-4 mb-10">
                                                <!--begin::Input group-->
                                                <div class="fv-row w-sm-50">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinUpdateVM.Telefon" class="form-label">Cep Telefonu</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input asp-for="FormTipIzinUpdateVM.Telefon" class="form-control form-control-solid" inputmode="text">
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                                <!--begin::Input group-->
                                                <div class="fv-row w-100">
                                                    <!--begin::Label-->
                                                    <label asp-for="FormTipIzinUpdateVM.YerineBakacakKisi" class="form-label">Görevini Yapacak Kişi</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <input asp-for="FormTipIzinUpdateVM.YerineBakacakKisi" class="form-control form-control form-control-solid" />
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Input group-->
                                            </div>


                                            <!--begin::Input group-->
                                            <div class="fv-row mb-10">
                                                <!--begin::Switch-->
                                                <label asp-for="FormTipIzinUpdateVM.YillikIzinUcretiIstegi" class="form-check form-switch form-check-custom form-check-solid">
                                                    <input asp-for="FormTipIzinUpdateVM.YillikIzinUcretiIstegi" class="form-check-input" type="checkbox" />
                                                    <span class="form-check-label fw-bold text-dark">
                                                        4857 Sayılı İş Kanununun 57. Maddesi gereğince Yıllık İzin Dönemine İlişkin Ücretimi Peşin Almak İstiyorum
                                                    </span>
                                                </label>
                                                <!--end::Switch-->
                                            </div>
                                            <!--end::Input group-->
                                        </div>
                                    </div>
                                    <!--end::Step 2-->
                                    <!--begin::Step 3-->
                                    <div data-kt-stepper-element="content">
                                        <div class="w-100 lh-sm">
                                            <div class="card shadow-sm mb-6 px-6 py-3">
                                                <div class="card-header">
                                                    <h3 class="card-title">İzin Bilgileri</h3>
                                                </div>

                                                <div class="card-body">
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered">
                                                            <tbody>
                                                                <tr>
                                                                    <td class="fw-bolder">Gün Sayısı</td>
                                                                    <td id="gunSayisiFormUpdateSpan"></td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Başlangıç - Bitiş Tarihi</td>
                                                                    <td class="d-flex">
                                                                        <div id="baslangicTarihiFormUpdateSpan"></div><span class="mx-1">-</span><div id="bitisTarihiFormUpdateSpan"></div>
                                                                    </td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Mahsuben Gün Sayısı</td>
                                                                    <td id="mahsubenGunSayisiFormUpdateSpan">???</td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Mahsuben Başlangıç - Bitiş Tarihi</td>
                                                                    <td class="d-flex">
                                                                        <div id="mahsubenBaslangicTarihiFormUpdateSpan">???</div><span class="mx-1">-</span><div id="mahsubenBitisTarihiFormUpdateSpan">???</div>
                                                                    </td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">İşe Başlama Tarihi</td>
                                                                    <td id="iseBaslamaTarihiFormUpdateSpan"></td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Telefon</td>
                                                                    <td id="cepTelFormUpdateSpan"></td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Görevini Yapacak Kişi</td>
                                                                    <td id="yerineBakacakKisiFormUpdateSpan"></td>
                                                                </tr>

                                                                <tr>
                                                                    <td class="fw-bolder">Yıllık İzin Ücret İsteği</td>
                                                                    <td id="yillikIzinUcretiIstegiFormUpdateSpan"></td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Step 3-->
                                    <!--begin::Step 4-->
                                    <div data-kt-stepper-element="content">
                                        <div class="w-100">
                                            <div class="mh-475px scroll-y me-n7 pe-7 ps-2">
                                                <label>
                                                    <div class="fw-bolder fs-3 mb-6">Bir doğrulama yöntemi seçiniz</div>
                                                    <!--begin::Option-->
                                                    <input asp-for="FormTipIzinUpdateVM.DogrulamaYontemi" id="form-tip-update-sms" type="radio" class="btn-check" value="SMS" checked="checked" />
                                                    <label asp-for="FormTipIzinUpdateVM.DogrulamaYontemi" for="form-tip-update-sms" class="btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center">
                                                        <i class="ki-duotone ki-message-text-2 fs-4x me-4"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i>

                                                        <span class="d-block fw-semibold text-start">
                                                            <span class="text-gray-900 fw-bold d-block fs-3">SMS</span>
                                                            <span class="text-muted fw-semibold fs-6">İzin doğrulama kodunuz sistemde tanımlı olan <span class="fw-bolder">"@telefon"</span> numaralı telefonunuza gönderilecektir.</span>
                                                        </span>
                                                    </label>
                                                    <!--end::Option-->
                                                    <!--begin::Option-->
                                                    <input asp-for="FormTipIzinUpdateVM.DogrulamaYontemi" id="form-tip-update-e-posta" type="radio" class="btn-check" value="E-POSTA" />
                                                    <label asp-for="FormTipIzinUpdateVM.DogrulamaYontemi" for="form-tip-update-e-posta" class="btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center my-5">
                                                        <i class="ki-duotone ki-setting-2 fs-4x me-4"><span class="path1"></span><span class="path2"></span></i>

                                                        <span class="d-block fw-semibold text-start">
                                                            <span class="text-gray-900 fw-bold d-block fs-3">E-posta</span>
                                                            <span class="text-muted fw-semibold fs-6">
                                                                izin doğrulama kodunuz sistemde tanımlı olan <span class="fw-bolder">"@baskentMail"</span> e-posta adresinize gönderilecektir.
                                                            </span>
                                                        </span>
                                                    </label>
                                                    <!--end::Option-->
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Step 4-->
                                    <!--begin::Step 5-->
                                    <div data-kt-stepper-element="content">
                                        <div class="d-flex flex-center flex-column flex-lg-row-fluid">
                                            <!--begin::Alert-->
                                            <div id="formTipUpdateCountdownAlert" class="alert bg-light-danger d-flex flex-column flex-sm-row p-5 mb-6 d-none">
                                                <!--begin::Icon-->
                                                <img class="me-4 mb-5 mb-sm-0" width="75px" src="~/assets/media/svg/misc/hourglass.svg" />
                                                <!--end::Icon-->
                                                <!--begin::Wrapper-->
                                                <div class="d-flex flex-column pe-0 pe-sm-10">
                                                    <!--begin::Title-->
                                                    <h4 class="fs-1 fw-semibold text-danger">Süre doldu!</h4>
                                                    <!--end::Title-->
                                                    <!--begin::Content-->
                                                    <span class="fs-4 text-dark">İşleminize devam etmek için aşağıdaki <button type="button" class="btn btn-link link-primary fs-5 me-1">Tekrar Gönder</button> linkine tıklayınız</span>
                                                    <!--end::Content-->
                                                </div>
                                                <!--end::Wrapper-->
                                            </div>
                                            <!--end::Alert-->

                                            <div class="w-100">
                                                <div class="text-center mb-6">
                                                    <span id="formTipUpdateExpiration" class="d-none"></span>
                                                    <p id="formTipUpdateCountdown" class="fw-bolder fs-4x">
                                                        <span class="spinner-border text-primary" role="status"></span>
                                                    </p>
                                                </div>
                                                <div class="d-flex justify-content-center gap-4 mb-6">
                                                    <div>
                                                        <img id="dogrulamaImgFormTipUpdate" alt="" class="mh-100px" src="">
                                                    </div>
                                                    <div>
                                                        <h1 id="formTipUpdateYontem" class="text-gray-900 mb-3"></h1>
                                                        <div id="formTipUpdateIletisimBilgisi" class="fw-bold text-gray-900 fs-3"></div>
                                                        <div id="formTipUpdateDogrulamaMesaj" class="text-muted fw-semibold fs-5 mb-5"></div>
                                                    </div>
                                                </div>

                                                <div class="mb-6">
                                                    <div class="fw-bold text-center text-gray-900 fs-6 mb-1 ms-1">6 haneli güvenlik kodunu giriniz</div>
                                                    <div class="d-flex flex-wrap flex-stack justify-content-center gap-4">
                                                        <input type="text" id="form-tip-update-code-1" name="form-tip-update-code-1" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-update-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-update-code-2" name="form-tip-update-code-2" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-update-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-update-code-3" name="form-tip-update-code-3" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-update-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-update-code-4" name="form-tip-update-code-4" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-update-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-update-code-5" name="form-tip-update-code-5" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-update-auth-code" value="" inputmode="text">
                                                        <input type="text" id="form-tip-update-code-6" name="form-tip-update-code-6" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 form-tip-update-auth-code" value="" inputmode="text">
                                                    </div>
                                                </div>
                                                <input asp-for="FormTipIzinUpdateVM.Kod" type="hidden" />
                                            </div>
                                            <div class="text-center fw-semibold fs-5">
                                                <span class="text-muted me-1">Kod size ulaşmadı mı?</span>

                                                <button type="button" onClick="tekrarGonderFormTipUpdate()" class="btn btn-link link-primary fs-5 me-1">Tekrar Gönder</button>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Step 5-->
                                </div>
                                <!--end::Group-->
                                <!--begin::Actions-->
                                <div class="d-flex flex-stack">
                                    <!--begin::Wrapper-->
                                    <div class="me-2">
                                        <button type="button" class="btn btn-light btn-active-light-primary" data-kt-stepper-action="previous">
                                            <span>&laquo;</span>
                                            <span>Geri</span>
                                        </button>
                                    </div>
                                    <!--end::Wrapper-->
                                    <!--begin::Wrapper-->
                                    <div>
                                        <button id="form-tip-update-btn" type="button" class="btn btn-primary" data-kt-stepper-action="submit">
                                            <span class="indicator-label">
                                                İznimi Onayla
                                            </span>
                                            <span class="indicator-progress">
                                                Lütfen bekleyin... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                            </span>
                                        </button>

                                        <button type="button" class="btn btn-primary" data-kt-stepper-action="next">
                                            <span>İleri</span>
                                            <span>&raquo;</span>
                                        </button>
                                    </div>
                                    <!--end::Wrapper-->
                                </div>
                                <!--end::Actions-->
                            </form>
                            <!--end::Form-->
                        </div>
                    </div>
                    <!--end::Stepper-->
                </div>
            </div>
        </div>
    </div>
    <!--end::Form Tipi İzin Güncelleme Formu Modal-->
    <!--begin::Text Tip İzin Güncelleme Modal-->
    <div class="modal fade modal-xl" tabindex="-1" id="izin-update-modal-2" data-bs-focus="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">İzin Başvuru Formu</h3>

                    <!--begin::Close-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
                        <i class="ki-duotone ki-cross fs-1"><span class="path1"></span><span class="path2"></span></i>
                    </div>
                    <!--end::Close-->
                </div>

                <div class="modal-body">
                    <!--begin::Stepper-->
                    <div class="stepper stepper-pills stepper-column d-flex flex-column flex-xl-row flex-row-fluid" id="kt_stepper_example_vertical-2-update">
                        <div class="flex-center flex-wrap mb-6" style="height: 100%;">
                            <!--begin::Step 1-->
                            <div class="stepper-item mx-8 my-2 current" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">1</span>
                                    </div>
                                    <!--end::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 1
                                        </h3>

                                        <div class="stepper-desc">
                                            Tarih Aralığı<br />
                                            ve Açıklama
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <!--begin::Line-->
                                <div class="stepper-line h-30px"></div>
                                <!--end::Line-->
                            </div>
                            <!--end::Step 1-->
                            <!--begin::Step 2-->
                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <!--begin::Wrapper-->
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <!--begin::Icon-->
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">2</span>
                                    </div>
                                    <!--begin::Icon-->
                                    <!--begin::Label-->
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 2
                                        </h3>

                                        <div class="stepper-desc">
                                            Ön İzleme
                                        </div>
                                    </div>
                                    <!--end::Label-->
                                </div>
                                <!--end::Wrapper-->
                                <div class="stepper-line h-30px"></div>
                            </div>
                            <!--end::Step 3-->

                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">3</span>
                                    </div>
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 3
                                        </h3>
                                        <div class="stepper-desc">
                                            Doğrulama Yöntemi
                                        </div>
                                    </div>
                                </div>
                                <div class="stepper-line h-30px"></div>
                            </div>

                            <div class="stepper-item mx-8 my-2" data-kt-stepper-element="nav">
                                <div class="stepper-wrapper d-flex align-items-center">
                                    <div class="stepper-icon w-40px h-40px">
                                        <i class="stepper-check fas fa-check"></i>
                                        <span class="stepper-number">4</span>
                                    </div>
                                    <div class="stepper-label">
                                        <h3 class="stepper-title">
                                            Adım 4
                                        </h3>
                                        <div class="stepper-desc">
                                            Doğrulama Kodu Girişi
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--end::Nav-->
                        <!--begin::Content-->
                        <div class="flex-row-fluid py-lg-5 px-lg-15">
                            <!--begin::Form-->
                            <form method="post" asp-controller="Islemler" asp-action="IzniDuzenle" id="text-tip-izin-update-form" class="form mx-auto" novalidate="novalidate">
                                <!--begin::Group-->
                                <!--begin::Step 1-->
                                <div class="current" data-kt-stepper-element="content">
                                    <div class="w-100">
                                        <div class="d-sm-flex gap-4 mb-10">
                                            <div class="fv-row w-100">
                                                <label asp-for="TextTipIzinUpdateVM.BaslangicTarihi" class="form-label">Başlangıç Tarihi</label>
                                                <input type="date" asp-for="TextTipIzinUpdateVM.BaslangicTarihi" class="form-control form-control-solid" />
                                            </div>

                                            <div class="fv-row w-100">
                                                <label asp-for="TextTipIzinUpdateVM.BitisTarihi" class="form-label">Bitiş Tarihi</label>
                                                <input type="date" asp-for="TextTipIzinUpdateVM.BitisTarihi" class="form-control form-control-solid" />
                                            </div>
                                        </div>

                                        <div class="fv-row mb-10">
                                            <label asp-for="TextTipIzinUpdateVM.Aciklama" class="form-label">Açıklama</label>
                                            <textarea asp-for="TextTipIzinUpdateVM.Aciklama" class="form-control form-control form-control-solid" rows="5"></textarea>
                                        </div>

                                        <div class="d-none">
                                            <input type="number" asp-for="TextTipIzinUpdateVM.GunSayisi" min="1" />
                                            <input asp-for="TextTipIzinUpdateVM.IzinTurId" />
                                            <input type="date" asp-for="TextTipIzinUpdateVM.IseBaslamaTarihi" />
                                            <input asp-for="TextTipIzinUpdateVM.Id" />
                                        </div>
                                    </div>
                                </div>
                                <!--end::Step 1-->
                                <!--begin::Step 2-->
                                <div data-kt-stepper-element="content">
                                    <div class="w-100 lh-sm">
                                        <div class="card shadow-sm mb-6 px-6 py-3">
                                            <div class="card-header">
                                                <h3 class="card-title">İzin Bilgileri</h3>
                                            </div>

                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table table-bordered">
                                                        <tbody>
                                                            <tr>
                                                                <td class="fw-bolder">Gün Sayısı</td>
                                                                <td id="gunSayisiTextUpdateSpan"></td>
                                                            </tr>

                                                            <tr>
                                                                <td class="fw-bolder">Başlangıç - Bitiş Tarihi</td>
                                                                <td>
                                                                    <span id="baslangicTarihiTextUpdateSpan"></span> - <span id="bitisTarihiTextUpdateSpan"></span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="fw-bolder">İşe Başlama Tarihi</td>
                                                                <td id="iseBaslamaTarihiTextUpdateSpan"></td>
                                                            </tr>

                                                            <tr>
                                                                <td class="fw-bolder">Açıklama</td>
                                                                <td id="aciklamaTextUpdate"></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end::Step 2-->
                                <!--begin::Step 3-->
                                <div data-kt-stepper-element="content">
                                    <div class="w-100">
                                        <div class="mh-475px scroll-y me-n7 pe-7 ps-2">
                                            <label>
                                                <div class="fw-bolder fs-3 mb-6">Bir doğrulama yöntemi seçiniz</div>
                                                <!--begin::Option-->
                                                <input asp-for="TextTipIzinUpdateVM.DogrulamaYontemi" id="text-tip-update-sms" type="radio" class="btn-check" value="SMS" checked="checked" />
                                                <label asp-for="TextTipIzinUpdateVM.DogrulamaYontemi" for="text-tip-update-sms" class="btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center">
                                                    <i class="ki-duotone ki-message-text-2 fs-4x me-4"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i>

                                                    <span class="d-block fw-semibold text-start">
                                                        <span class="text-gray-900 fw-bold d-block fs-3">SMS</span>
                                                        <span class="text-muted fw-semibold fs-6">İzin doğrulama kodunuz sistemde tanımlı olan <span class="fw-bolder">"@telefon"</span> numaralı telefonunuza gönderilecektir.</span>
                                                    </span>
                                                </label>
                                                <!--end::Option-->
                                                <!--begin::Option-->
                                                <input asp-for="TextTipIzinUpdateVM.DogrulamaYontemi" id="text-tip-update-e-posta" type="radio" class="btn-check" value="E-POSTA" />
                                                <label asp-for="TextTipIzinUpdateVM.DogrulamaYontemi" for="text-tip-update-e-posta" class="btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center my-5">
                                                    <i class="ki-duotone ki-setting-2 fs-4x me-4"><span class="path1"></span><span class="path2"></span></i>

                                                    <span class="d-block fw-semibold text-start">
                                                        <span class="text-gray-900 fw-bold d-block fs-3">E-posta</span>
                                                        <span class="text-muted fw-semibold fs-6">
                                                            izin doğrulama kodunuz sistemde tanımlı olan <span class="fw-bolder">"@baskentMail"</span> e-posta adresinize gönderilecektir.
                                                        </span>
                                                    </span>
                                                </label>
                                                <!--end::Option-->
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!--end::Step 3-->
                                <!--begin::Step 4-->
                                <div data-kt-stepper-element="content">
                                    <div class="d-flex flex-center flex-column flex-lg-row-fluid">
                                        <!--begin::Alert-->
                                        <div id="textTipUpdateCountdownAlert" class="alert bg-light-danger d-flex flex-column flex-sm-row p-5 mb-6 d-none">
                                            <!--begin::Icon-->
                                            <img class="me-4 mb-5 mb-sm-0" width="75px" src="~/assets/media/svg/misc/hourglass.svg" />
                                            <!--end::Icon-->
                                            <!--begin::Wrapper-->
                                            <div class="d-flex flex-column pe-0 pe-sm-10">
                                                <!--begin::Title-->
                                                <h4 class="fs-1 fw-semibold text-danger">Süre doldu!</h4>
                                                <!--end::Title-->
                                                <!--begin::Content-->
                                                <span class="fs-4 text-dark">İşleminize devam etmek için aşağıdaki <button type="button" class="btn btn-link link-primary fs-5 me-1">Tekrar Gönder</button> linkine tıklayınız</span>
                                                <!--end::Content-->
                                            </div>
                                            <!--end::Wrapper-->
                                        </div>
                                        <!--end::Alert-->

                                        <div class="w-100">
                                            <div class="text-center mb-6">
                                                <span id="textTipUpdateExpiration" class="d-none"></span>
                                                <p id="textTipUpdateCountdown" class="fw-bolder fs-4x">
                                                    <span class="spinner-border text-primary" role="status"></span>
                                                </p>
                                            </div>
                                            <div class="d-flex justify-content-center gap-4 mb-6">
                                                <div>
                                                    <img id="dogrulamaImgTextTipUpdate" alt="" class="mh-100px" src="">
                                                </div>
                                                <div>
                                                    <h1 id="textTipUpdateYontem" class="text-gray-900 mb-3"></h1>
                                                    <div id="textTipUpdateIletisimBilgisi" class="fw-bold text-gray-900 fs-3"></div>
                                                    <div id="textTipUpdateDogrulamaMesaj" class="text-muted fw-semibold fs-5 mb-5"></div>
                                                </div>
                                            </div>

                                            <div class="mb-6">
                                                <div class="fw-bold text-center text-gray-900 fs-6 mb-1 ms-1">6 haneli güvenlik kodunu giriniz</div>
                                                <div class="d-flex flex-wrap flex-stack justify-content-center gap-4">
                                                    <input type="text" id="text-tip-update-code-1" name="text-tip-update-code-1" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-update-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-update-code-2" name="text-tip-update-code-2" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-update-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-update-code-3" name="text-tip-update-code-3" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-update-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-update-code-4" name="text-tip-update-code-4" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-update-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-update-code-5" name="text-tip-update-code-5" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-update-auth-code" value="" inputmode="text">
                                                    <input type="text" id="text-tip-update-code-6" name="text-tip-update-code-6" data-inputmask="'mask': '9', 'placeholder': ''" maxlength="1" class="form-control bg-transparent h-50px w-50px fs-2qx text-center mx-1 my-2 text-tip-update-auth-code" value="" inputmode="text">
                                                </div>
                                            </div>
                                            <input asp-for="TextTipIzinUpdateVM.Kod" type="hidden" />
                                        </div>
                                        <div class="text-center fw-semibold fs-5">
                                            <span class="text-muted me-1">Kod size ulaşmadı mı?</span>

                                            <button type="button" onClick="tekrarGonderTextTipUpdate()" class="btn btn-link link-primary fs-5 me-1">Tekrar Gönder</button>
                                        </div>
                                    </div>
                                </div>
                                <!--end::Step 4-->
                                <!--end::Group-->
                                <!--begin::Actions-->
                                <div class="d-flex flex-stack">
                                    <!--begin::Wrapper-->
                                    <div class="me-2">
                                        <button type="button" class="btn btn-light btn-active-light-primary" data-kt-stepper-action="previous">
                                            <span>&laquo;</span>
                                            <span>Geri</span>
                                        </button>
                                    </div>
                                    <!--end::Wrapper-->
                                    <!--begin::Wrapper-->
                                    <div>
                                        <button id="text-tip-update-btn" type="button" class="btn btn-primary" data-kt-stepper-action="submit">
                                            <span class="indicator-label">
                                                İznimi Onayla
                                            </span>
                                            <span class="indicator-progress">
                                                Lütfen bekleyiniz... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                            </span>
                                        </button>

                                        <button type="button" class="btn btn-primary" data-kt-stepper-action="next">
                                            <span>İleri</span>
                                            <span>&raquo;</span>
                                        </button>
                                    </div>
                                    <!--end::Wrapper-->
                                </div>
                                <!--end::Actions-->
                            </form>
                            <!--end::Form-->
                        </div>
                    </div>
                    <!--end::Stepper-->
                </div>
            </div>
        </div>
    </div>
}

<input type="hidden" id="telefonJsConverter" value="@telefon" />

<!--end::Text Tip İzin Güncelleme Modal-->
@section CSS {
    <link href="~/assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
}

@section Scripts {
    <script src="~/js/izin-islemlerim.js" asp-append-version="true"></script>
}